<!doctype html>
<html>
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Unraid Control • Settings</title>
  <link rel="stylesheet" href="/css/styles.css"/>
</head>
<body>
  <!-- header/drawer/footer injected by common.js -->
  <div class="container">
    <div class="card">
      <div class="h2">Add / Update Server</div>
      <form id="hostForm" class="grid" autocomplete="off">
        <input id="oldBaseUrl" type="hidden"/>
        <label>Server Name
          <input id="name" placeholder="Homeserver"/>
        </label>
        <label>Server Address
          <input id="baseUrl" placeholder="https://192.168.1.3"/>
        </label>
        <label>MAC (AA:BB:CC:DD:EE:FF)
          <input id="mac" placeholder="BC:30:5B:E9:60:D9"/>
        </label>
        <label>API Token
          <input id="token" placeholder="Paste Unraid API token"/>
        </label>
        <div class="actions">
          <button class="btn" type="submit">Save Host</button>
        </div>
      </form>
      <p class="help">Token tip: create an API token with Docker/VM/System permissions (Users → API Tokens). For self-signed HTTPS, set <code>UNRAID_ALLOW_SELF_SIGNED=true</code>.</p>
    </div>

    <div class="card">
      <div class="h2">Saved Hosts</div>
      <div class="table-wrap">
        <table class="table">
          <thead>
            <tr>
              <th>Name</th><th>Server Address</th><th>MAC</th><th>Token</th><th>Actions</th>
            </tr>
          </thead>
          <tbody id="hosts-body"></tbody>
        </table>
      </div>
    </div>

    <div class="card">
      <div class="h2">App Settings</div>
      <div class="grid">
        <label>Auto-refresh (seconds, ≥ 1)
          <input id="refreshSeconds" type="number" min="1" step="1" value="2"/>
        </label>
        <label>Log level
          <select id="logLevel">
            <option value="info">info</option>
            <option value="warn">warn</option>
            <option value="error">error</option>
            <option value="debug">debug</option>
          </select>
        </label>
        <label class="chk"><input type="checkbox" id="debugHttp"/> Show debug HTTP context in logs</label>
        <label class="chk"><input type="checkbox" id="allowSelfSigned"/> Allow self-signed TLS</label>
      </div>
      <div class="actions">
        <button id="saveApp" class="btn">Save Settings</button>
      </div>
    </div>
  </div>

  <script type="module" src="/js/settings.js"></script>
</body>
</html>