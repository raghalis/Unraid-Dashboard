<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <title>Unraid Control Panel</title>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <link rel="stylesheet" href="/css/styles.css"/>
</head>
<body>
  <main class="wrap">
    <section class="card">
      <h2>Servers</h2>
      <table class="tbl" id="tbl">
        <thead>
          <tr><th>Name</th><th>Base URL</th><th>MAC</th><th>Token</th><th>Actions</th></tr>
        </thead>
        <tbody id="rows"></tbody>
      </table>
    </section>

    <section class="card">
      <h2>Add / Update Server</h2>
      <div class="grid">
        <label>Name <input id="name" placeholder="Homeserver1"></label>
        <label>Base URL <input id="base" placeholder="https://192.168.1.3"></label>
        <label>MAC (AA:BB:CC:DD:EE:FF) <input id="mac" placeholder="BC:30:5B:E9:60:D9"></label>
      </div>
      <div class="row">
        <button id="saveHost">Save Host</button>
        <button id="setToken">Set/Update Token</button>
        <button id="testConn">Test Connection</button>
      </div>
      <p class="subtle">
        Token tip: On Unraid 7+, create an API token with Docker/VM/System permissions (e.g., <em>Users → API Keys</em>), then paste it
        here. If using self-signed HTTPS, leave “UNRAID_ALLOW_SELF_SIGNED=true” in the container env.
      </p>
      <pre id="status" class="status"></pre>
    </section>

    <section class="card">
      <h2>Quick Probe</h2>
      <div class="row">
        <input id="probeBase" placeholder="https://192.168.1.3" style="flex:1;">
        <button id="runProbe">Run</button>
      </div>
      <pre id="probeOut" class="status"></pre>
    </section>
  </main>

  <script src="/js/app.js" type="module"></script>
</body>
</html>
